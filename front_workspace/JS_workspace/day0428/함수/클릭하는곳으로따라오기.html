<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            margin: 0px 0px;
        }
        
        #wrapper {
            width: 100%;
            height: 600px;
            background-color: rgb(240, 248, 194);
            position: relative;
        }
    </style>
    <script>
        let img;
        let a = 0.1; //감속도 비율계수
        let targetX; //목표 X 지점
        let targetY; //목표 Y 지점

        function createImg(){
            img = document.createElement("img");
            img.src = "../../../images/cute.png";
            img.style.width = 70+"px";
            
            img.style.position = "absolute";
            img.style.left = 200+"px";
            img.style.top = 150+"px";

            document.querySelector("#wrapper").appendChild(img);
        }

        /* 감속도 운동으로 접근 */
        function move(targetX, targetY){
            /* 감속도 공식 : 나의 위치 = 현재 위치 + (남은거리 * 0.1) */
            img.style.left = parseFloat(img.style.left) + ((targetX - parseFloat(img.style.left))*a)+"px";
            img.style.top = parseFloat(img.style.top) + ((targetY - parseFloat(img.style.top))*a)+"px";
        }

        function gameLoop(){
            move(targetX, targetY);
        }

        addEventListener("load", ()=>{
            createImg();
            //마우스 이벤트 연결하기
            document.querySelector("#wrapper").addEventListener("mousemove", ()=>{
                targetX = event.clientX;
                targetY = event.clientY;
            });

            setInterval(gameLoop,10);


        });
    </script>
</head>
<body>
    <div id="wrapper">

    </div>
</body>
</html>